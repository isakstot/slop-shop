<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Page</title>
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/bootstrap/bootstrap.min.css">
</head>
<body>
    <%- include('../partials/header.ejs') %>
    
    <main class="container">
        <!-- Welcome Message -->
        <% if (user) { %>
            <div class="text-center mt-5">
                <h1>Welcome, <%= user.firstName %> <%= user.lastName %>!</h1>
                <p>
                    You were last online on 
                    <% if (user.lastLogin) { %>
                        <script>
                            const formatDate = (timestamp) => {
                                const date = new Date('<%= user.lastLogin %>');
                                const options = { weekday: 'long', day: '2-digit', month: '2-digit', year: 'numeric' };
                                document.write(new Intl.DateTimeFormat('en-GB', options).format(date));
                            };
                            formatDate();
                        </script>
                    <% } %>
                </p>
            </div>
        <% } %>


        <div class="text-center mt-5">
            <h1>Student Swap</h1>
            <h3>The #1 place to buy and sell things for students</h3>
        </div>
        
        <!-- Carousel -->
        <div id="carouselExample" class="carousel slide mt-4" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="/images/image1.jpeg" class="d-block w-100" alt="First slide">
                </div>
                <div class="carousel-item">
                    <img src="/images/image2.jpeg" class="d-block w-100" alt="Second slide">
                </div>
                <div class="carousel-item">
                    <img src="/images/image3.jpeg" class="d-block w-100" alt="Third slide">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
            <ol class="carousel-indicators">
                <li data-bs-target="#carouselExample" data-bs-slide-to="0" class="active"></li>
                <li data-bs-target="#carouselExample" data-bs-slide-to="1"></li>
                <li data-bs-target="#carouselExample" data-bs-slide-to="2"></li>
            </ol>
        </div>
    </main>

    <script src="/js/bootstrap/bootstrap.bundle.min.js"></script>
    <script src="/js/index.js"></script>
</body>
</html>
